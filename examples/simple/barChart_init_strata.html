<html>
  <head>
    <meta charset="utf-8">
    <title>Bar Chart by Visual Sedimentation</title>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-30706693-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
    <script type="text/javascript" src="../../js/_VisualSedimentation.js"></script>
    <style>@import url(../../css/fan-of-mike-style.css);</style>
  </head>
  <body>
    <!-- div container -->
    <header>‚Äç
    <a href="../../">Overview</a>
    <b><a style="margin-left:1em;" href="../../index.html"> Examples</a></b>
    <a style="margin-left:1em;" href="../../documentation/index.html">Documentation</a></b>
    <a style="margin-left:1em;" href="https://github.com/INRIA/VisualSedimentation" target="_blank">Source</a>
    <a style="margin-left:1em;" href="" target="_blank">Contact / Feedback</a>
  </header>
      <!-- div container -->
      <h1 id="myDemo">Bar Chart with init strata</h1>
      
      <!-- Create my visual sedimentation -->
      <script type="text/javascript">

      mySettings = {
          width:300,
          height:300,
          data:{
                model:
                        [
                          {label:"Column A"},
                          {label:"Column B"},
                          {label:"Column C"},
                        ],

                "strata":[
                          [{initValue:10}],[{initValue:5}],[{initValue:20}]      
                        ],
              stream:{
                      provider:'direct',
                      refresh:10000/4
                },
              },
          sedimentation:{
            token:{
              size:{direct:10,minimum:5}
            },
            aggregation:{height:200},
            suspension:{
              decay:{power:1.1}
            }
          },
          options:{
            layout:false
          },
          chart:{
          }
        }
      // Init the sedimentation
      var barChart = $("#myDemo").vs(mySettings).data('visualSedimentation');

      setInterval(function() {
        barChart.addToken({
              category: 1,
              x:mySettings.width*3/6,
              size: 10});
        }, 500)

      setInterval(function() {
        barChart.addToken({
              category: 2,
              x:mySettings.width*5/6,
              size: 15});
        }, 1500)
    </script>
  </body>   
</html>